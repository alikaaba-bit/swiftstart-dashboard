<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swiftstart Financial Dashboard - YTD 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }

        .dashboard {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #888;
            font-size: 1.1rem;
        }

        .header .date {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .kpi-card.danger {
            border-color: rgba(255,71,87,0.5);
            background: rgba(255,71,87,0.1);
        }

        .kpi-card.warning {
            border-color: rgba(255,193,7,0.5);
            background: rgba(255,193,7,0.1);
        }

        .kpi-card.success {
            border-color: rgba(0,230,118,0.5);
            background: rgba(0,230,118,0.1);
        }

        .kpi-label {
            font-size: 0.85rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .kpi-value {
            font-size: 2rem;
            font-weight: 700;
        }

        .kpi-card.danger .kpi-value { color: #ff4757; }
        .kpi-card.warning .kpi-value { color: #ffc107; }
        .kpi-card.success .kpi-value { color: #00e676; }

        .kpi-change {
            font-size: 0.85rem;
            margin-top: 8px;
        }

        .kpi-change.negative { color: #ff4757; }
        .kpi-change.positive { color: #00e676; }
        .kpi-change.neutral { color: #888; }

        /* Chart Grid */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .chart-card.full-width {
            grid-column: span 2;
        }

        @media (max-width: 1200px) {
            .chart-card.full-width {
                grid-column: span 1;
            }
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-title .icon {
            font-size: 1.3rem;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .chart-card.tall .chart-container {
            height: 400px;
        }

        /* Alert Banner */
        .alert-banner {
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .alert-banner.warning {
            background: linear-gradient(90deg, rgba(255,193,7,0.2), rgba(255,193,7,0.1));
            border: 1px solid rgba(255,193,7,0.5);
        }

        .alert-banner .icon {
            font-size: 2rem;
        }

        .alert-banner h3 {
            color: #ffc107;
            margin-bottom: 5px;
        }

        .alert-banner p {
            color: #ccc;
            font-size: 0.95rem;
        }

        /* Partner Section */
        .partner-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 900px) {
            .partner-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .partner-card {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .partner-card .name {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 8px;
        }

        .partner-card .amount {
            font-size: 1.4rem;
            font-weight: 700;
            color: #00d4ff;
        }

        .partner-card .percent {
            font-size: 0.8rem;
            color: #666;
            margin-top: 4px;
        }

        /* Gauge */
        .gauge-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 250px;
        }

        .gauge-value {
            font-size: 3rem;
            font-weight: 700;
            margin-top: -30px;
        }

        .gauge-label {
            color: #888;
            margin-top: 10px;
        }

        /* Health Score */
        .health-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .health-grid {
                grid-template-columns: 1fr;
            }
        }

        .health-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
        }

        .health-item .metric {
            color: #aaa;
        }

        .health-item .grade {
            font-weight: 700;
            font-size: 1.2rem;
            padding: 4px 12px;
            border-radius: 6px;
        }

        .grade.a { background: rgba(0,230,118,0.2); color: #00e676; }
        .grade.b { background: rgba(0,212,255,0.2); color: #00d4ff; }
        .grade.c { background: rgba(255,193,7,0.2); color: #ffc107; }
        .grade.f { background: rgba(255,71,87,0.2); color: #ff4757; }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            color: #555;
            font-size: 0.85rem;
            margin-top: 30px;
        }

        /* Recommendations */
        .recommendations {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        @media (max-width: 900px) {
            .recommendations {
                grid-template-columns: 1fr;
            }
        }

        .rec-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .rec-card h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .rec-card ul {
            list-style: none;
            color: #aaa;
        }

        .rec-card li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 0.95rem;
        }

        .rec-card li:last-child {
            border-bottom: none;
        }

        .priority-high { color: #ff4757; }
        .priority-med { color: #ffc107; }
        .priority-low { color: #00d4ff; }

        /* Trend indicator */
        .trend-section {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .trend-section {
                grid-template-columns: 1fr;
            }
        }

        .trend-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }

        .trend-card .label {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 10px;
        }

        .trend-card .value {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .trend-card .subtext {
            font-size: 0.85rem;
            color: #666;
            margin-top: 8px;
        }

        .trend-card.positive .value { color: #00e676; }
        .trend-card.negative .value { color: #ff4757; }
        .trend-card.warning .value { color: #ffc107; }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <div class="header">
            <h1>Swiftstart Financial Dashboard</h1>
            <div class="subtitle">Amazon Agency Performance Analytics</div>
            <div class="date">YTD 2025 (January - October) | Data as of Oct 31, 2025</div>
        </div>

        <!-- Alert Banner - Updated to warning level -->
        <div class="alert-banner warning">
            <div class="icon">‚ö†Ô∏è</div>
            <div>
                <h3>Warning: Revenue Declining & High Churn</h3>
                <p>Revenue down 39% since January. Implied annual churn rate of ~70% requires immediate attention. Cash position is stable but margins are thin.</p>
            </div>
        </div>

        <!-- KPI Cards - Updated -->
        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-label">YTD Revenue</div>
                <div class="kpi-value">$1.14M</div>
                <div class="kpi-change negative">‚Üì 39% Jan‚ÜíOct</div>
            </div>
            <div class="kpi-card success">
                <div class="kpi-label">Net Income</div>
                <div class="kpi-value">$366K</div>
                <div class="kpi-change positive">32% margin</div>
            </div>
            <div class="kpi-card success">
                <div class="kpi-label">Cash Position</div>
                <div class="kpi-value">$159K</div>
                <div class="kpi-change neutral">Cash + AR</div>
            </div>
            <div class="kpi-card danger">
                <div class="kpi-label">Annual Churn (Est.)</div>
                <div class="kpi-value">~70%</div>
                <div class="kpi-change negative">Industry: 15-25%</div>
            </div>
            <div class="kpi-card warning">
                <div class="kpi-label">Est. Clients</div>
                <div class="kpi-value">~23</div>
                <div class="kpi-change negative">‚Üì 7 since June</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Avg Revenue/Client</div>
                <div class="kpi-value">$4,464</div>
                <div class="kpi-change neutral">/month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">YTD Partner Draws</div>
                <div class="kpi-value">$360K</div>
                <div class="kpi-change neutral">98% of earnings</div>
            </div>
            <div class="kpi-card warning">
                <div class="kpi-label">Valuation Est.</div>
                <div class="kpi-value">$1.8-3.2M</div>
                <div class="kpi-change neutral">Fix churn = higher</div>
            </div>
        </div>

        <!-- Key Trends -->
        <div class="trend-section">
            <div class="trend-card negative">
                <div class="label">Revenue Trend</div>
                <div class="value">-39%</div>
                <div class="subtext">Jan $136K ‚Üí Oct $83K</div>
            </div>
            <div class="trend-card negative">
                <div class="label">Commission Collapse</div>
                <div class="value">-108%</div>
                <div class="subtext">Jan $49K ‚Üí Oct -$4K</div>
            </div>
            <div class="trend-card warning">
                <div class="label">Client Retention</div>
                <div class="value">~30%</div>
                <div class="subtext">Annual (need 75%+)</div>
            </div>
        </div>

        <!-- Charts Row 1 -->
        <div class="chart-grid">
            <div class="chart-card full-width tall">
                <div class="chart-title"><span class="icon">üìà</span> Revenue & Profitability Trend</div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Charts Row 2 -->
        <div class="chart-grid">
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üí∞</span> Revenue Mix (YTD)</div>
                <div class="chart-container">
                    <canvas id="revenueMixChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üìä</span> Expense Breakdown (YTD)</div>
                <div class="chart-container">
                    <canvas id="expenseChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Charts Row 3 -->
        <div class="chart-grid">
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üë•</span> Client Count Trend (Estimated)</div>
                <div class="chart-container">
                    <canvas id="clientChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üí∏</span> Commission Revenue Collapse</div>
                <div class="chart-container">
                    <canvas id="commissionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Partner Section - Updated -->
        <div class="chart-grid">
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üëî</span> YTD Partner Draws vs Net Income</div>
                <div class="chart-container">
                    <canvas id="partnerChart"></canvas>
                </div>
                <div class="partner-grid">
                    <div class="partner-card">
                        <div class="name">Partner 1</div>
                        <div class="amount">~$90K</div>
                        <div class="percent">~$9K/month</div>
                    </div>
                    <div class="partner-card">
                        <div class="name">Partner 2</div>
                        <div class="amount">~$90K</div>
                        <div class="percent">~$9K/month</div>
                    </div>
                    <div class="partner-card">
                        <div class="name">Partner 3</div>
                        <div class="amount">~$90K</div>
                        <div class="percent">~$9K/month</div>
                    </div>
                    <div class="partner-card">
                        <div class="name">Partner 4</div>
                        <div class="amount">~$90K</div>
                        <div class="percent">~$9K/month</div>
                    </div>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title"><span class="icon">üìâ</span> Monthly Performance</div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Monthly Net Income -->
        <div class="chart-grid">
            <div class="chart-card full-width">
                <div class="chart-title"><span class="icon">üíµ</span> Monthly Net Income Trend</div>
                <div class="chart-container">
                    <canvas id="netIncomeChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Health Score Card -->
        <div class="chart-card" style="margin-bottom: 30px;">
            <div class="chart-title"><span class="icon">üè•</span> Business Health Scorecard</div>
            <div class="health-grid">
                <div class="health-item">
                    <span class="metric">Net Margin (32%)</span>
                    <span class="grade a">A</span>
                </div>
                <div class="health-item">
                    <span class="metric">Revenue Mix (78% retainer)</span>
                    <span class="grade a">A</span>
                </div>
                <div class="health-item">
                    <span class="metric">Client LTV ($24-54K)</span>
                    <span class="grade b">B</span>
                </div>
                <div class="health-item">
                    <span class="metric">Cash Position</span>
                    <span class="grade b">B</span>
                </div>
                <div class="health-item">
                    <span class="metric">Churn Rate (~70%)</span>
                    <span class="grade f">F</span>
                </div>
                <div class="health-item">
                    <span class="metric">Revenue Growth (-39%)</span>
                    <span class="grade f">F</span>
                </div>
            </div>
        </div>

        <!-- Recommendations - Updated -->
        <div class="recommendations">
            <div class="rec-card">
                <h4><span class="priority-high">üî¥</span> Immediate (30 Days)</h4>
                <ul>
                    <li>Exit interviews with all Q3 churned clients</li>
                    <li>Audit October commission adjustment</li>
                    <li>Identify at-risk clients (declining GMV)</li>
                    <li>Collect outstanding AR ($76K)</li>
                </ul>
            </div>
            <div class="rec-card">
                <h4><span class="priority-med">üü°</span> Short-Term (90 Days)</h4>
                <ul>
                    <li>Implement client health scoring</li>
                    <li>Monthly business reviews with clients</li>
                    <li>Shift commission clients to retainer</li>
                    <li>Build 3-month cash reserve</li>
                </ul>
            </div>
            <div class="rec-card">
                <h4><span class="priority-low">üîµ</span> Strategic (6-12 Months)</h4>
                <ul>
                    <li>Reduce churn to 25% (from 70%)</li>
                    <li>Stabilize revenue at $100K+/month</li>
                    <li>Achieve $3M+ valuation</li>
                    <li>Diversify service offerings</li>
                </ul>
            </div>
        </div>

        <!-- Valuation Section -->
        <div class="chart-card" style="margin-top: 30px;">
            <div class="chart-title"><span class="icon">üíé</span> Valuation Scenarios</div>
            <div class="chart-container" style="height: 200px;">
                <canvas id="valuationChart"></canvas>
            </div>
        </div>

        <div class="footer">
            Dashboard generated by Claude AI | Data Source: Swiftstart Financials YTD 2025<br>
            <small>Partner draws shown are YTD 2025 ($360K), not cumulative since inception ($786K)</small>
        </div>
    </div>

    <script>
        // Chart.js Global Defaults
        Chart.defaults.color = '#888';
        Chart.defaults.borderColor = 'rgba(255,255,255,0.1)';

        // Data
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];
        const totalRevenue = [136125, 109355, 125516, 112611, 115992, 126764, 124511, 107379, 101331, 83166];
        const serviceRevenue = [81400, 80100, 92400, 93650, 101400, 103900, 100150, 79623, 83400, 79900];
        const commissionRevenue = [49425, 25255, 21120, 8833, 9068, 18864, 18029, 22486, 12281, -4242];
        const netIncome = [42218, 32473, 49632, 46312, 42816, 46362, 37971, 22512, 25192, 20929];
        const estClients = serviceRevenue.map(s => Math.round(s / 3500 * 10) / 10);

        // 1. Revenue & Profitability Chart
        new Chart(document.getElementById('revenueChart'), {
            type: 'line',
            data: {
                labels: months,
                datasets: [
                    {
                        label: 'Total Revenue',
                        data: totalRevenue,
                        borderColor: '#00d4ff',
                        backgroundColor: 'rgba(0,212,255,0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3,
                        pointRadius: 6,
                        pointBackgroundColor: '#00d4ff'
                    },
                    {
                        label: 'Service Revenue',
                        data: serviceRevenue,
                        borderColor: '#7b2cbf',
                        backgroundColor: 'rgba(123,44,191,0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 2,
                        pointRadius: 4
                    },
                    {
                        label: 'Net Income',
                        data: netIncome,
                        borderColor: '#00e676',
                        backgroundColor: 'rgba(0,230,118,0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 2,
                        pointRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { usePointStyle: true, padding: 20 }
                    },
                    tooltip: {
                        callbacks: {
                            label: ctx => `${ctx.dataset.label}: $${ctx.raw.toLocaleString()}`
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: value => '$' + (value/1000) + 'K'
                        },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // 2. Revenue Mix Donut
        new Chart(document.getElementById('revenueMixChart'), {
            type: 'doughnut',
            data: {
                labels: ['Service Fees (78%)', 'Commissions (16%)', 'Google Ads (4%)', 'Other (2%)'],
                datasets: [{
                    data: [895923, 181120, 40000, 25707],
                    backgroundColor: ['#7b2cbf', '#00d4ff', '#ffc107', '#00e676'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { usePointStyle: true, padding: 15 }
                    },
                    tooltip: {
                        callbacks: {
                            label: ctx => {
                                return `$${(ctx.raw/1000).toFixed(0)}K`;
                            }
                        }
                    }
                }
            }
        });

        // 3. Expense Breakdown
        new Chart(document.getElementById('expenseChart'), {
            type: 'doughnut',
            data: {
                labels: ['Consultancy/Offshore (52%)', 'Payroll Canada (27%)', 'Office (11%)', 'Legal (4%)', 'IT (3%)', 'Other (3%)'],
                datasets: [{
                    data: [412143, 215930, 89031, 33146, 23625, 20076],
                    backgroundColor: ['#ff4757', '#ffc107', '#00d4ff', '#7b2cbf', '#00e676', '#666'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { usePointStyle: true, padding: 10, font: { size: 11 } }
                    },
                    tooltip: {
                        callbacks: {
                            label: ctx => `$${(ctx.raw/1000).toFixed(0)}K`
                        }
                    }
                }
            }
        });

        // 4. Client Count Chart
        new Chart(document.getElementById('clientChart'), {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: 'Estimated Clients',
                    data: estClients,
                    backgroundColor: estClients.map((v, i) => i >= 6 ? 'rgba(255,71,87,0.7)' : 'rgba(0,212,255,0.7)'),
                    borderRadius: 6,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: ctx => `~${ctx.raw} clients`
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 35,
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // 5. Commission Revenue Chart
        new Chart(document.getElementById('commissionChart'), {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: 'Commission Revenue',
                    data: commissionRevenue,
                    backgroundColor: commissionRevenue.map(v => v >= 0 ? 'rgba(0,230,118,0.7)' : 'rgba(255,71,87,0.9)'),
                    borderRadius: 6,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: ctx => `$${ctx.raw.toLocaleString()}`
                        }
                    }
                },
                scales: {
                    y: {
                        grid: { color: 'rgba(255,255,255,0.05)' },
                        ticks: {
                            callback: value => '$' + (value/1000) + 'K'
                        }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // 6. Partner Draws vs Net Income - CORRECTED
        new Chart(document.getElementById('partnerChart'), {
            type: 'bar',
            data: {
                labels: ['YTD 2025'],
                datasets: [
                    {
                        label: 'Net Income',
                        data: [366417],
                        backgroundColor: 'rgba(0,230,118,0.8)',
                        borderRadius: 6
                    },
                    {
                        label: 'Partner Draws (YTD)',
                        data: [359583],
                        backgroundColor: 'rgba(0,212,255,0.8)',
                        borderRadius: 6
                    },
                    {
                        label: 'Retained',
                        data: [6834],
                        backgroundColor: 'rgba(255,193,7,0.8)',
                        borderRadius: 6
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { usePointStyle: true, padding: 15 }
                    },
                    tooltip: {
                        callbacks: {
                            label: ctx => `${ctx.dataset.label}: $${ctx.raw.toLocaleString()}`
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            callback: value => '$' + (value/1000) + 'K'
                        },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    y: { display: false }
                }
            }
        });

        // 7. Monthly Performance (Revenue vs Avg)
        const avgRevenue = totalRevenue.reduce((a,b) => a+b, 0) / 10;
        new Chart(document.getElementById('performanceChart'), {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: 'vs Average',
                    data: totalRevenue.map(r => r - avgRevenue),
                    backgroundColor: totalRevenue.map(r => r >= avgRevenue ? 'rgba(0,230,118,0.7)' : 'rgba(255,71,87,0.7)'),
                    borderRadius: 6,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: ctx => `${ctx.raw >= 0 ? '+' : ''}$${ctx.raw.toLocaleString()} vs avg`
                        }
                    }
                },
                scales: {
                    y: {
                        grid: { color: 'rgba(255,255,255,0.05)' },
                        ticks: {
                            callback: value => (value >= 0 ? '+' : '') + '$' + (value/1000).toFixed(0) + 'K'
                        }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // 8. Net Income Trend
        new Chart(document.getElementById('netIncomeChart'), {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: 'Net Income',
                    data: netIncome,
                    backgroundColor: netIncome.map((v, i) => {
                        if (v >= 40000) return 'rgba(0,230,118,0.8)';
                        if (v >= 30000) return 'rgba(0,212,255,0.8)';
                        if (v >= 25000) return 'rgba(255,193,7,0.8)';
                        return 'rgba(255,71,87,0.8)';
                    }),
                    borderRadius: 8,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: ctx => `Net Income: $${ctx.raw.toLocaleString()}`
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: value => '$' + (value/1000) + 'K'
                        },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // 9. Valuation Chart
        new Chart(document.getElementById('valuationChart'), {
            type: 'bar',
            data: {
                labels: ['Current (High Churn)', 'Stabilized (25% Churn)', 'Optimized'],
                datasets: [{
                    label: 'Estimated Valuation',
                    data: [1839280, 3065466, 4291652],
                    backgroundColor: ['rgba(255,71,87,0.8)', 'rgba(255,193,7,0.8)', 'rgba(0,230,118,0.8)'],
                    borderRadius: 8
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: ctx => `$${(ctx.raw/1000000).toFixed(2)}M`
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            callback: value => '$' + (value/1000000).toFixed(1) + 'M'
                        },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });
    </script>
</body>
</html>
